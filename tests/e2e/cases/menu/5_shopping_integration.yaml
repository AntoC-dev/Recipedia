name: "5 - Menu Shopping Integration"
appId: "com.recipedia"
tags:
  - menu
---
- runFlow:
    file: "../../flows/setupTest.yaml"
    label: "Setup - Launch app and wait for ready"

- tapOn:
    id: "BottomTabs::Shopping"
    label: "Setup - Navigate to Shopping screen"

- runFlow:
    file: "../../asserts/shopping/en/shoppingEmpty.yaml"
    label: "Assert - Shopping list starts empty"

- runFlow:
    file: "../../flows/menu/addRecipeToMenu.yaml"
    label: "Action - Add Classic Pancakes to menu"

- tapOn:
    id: "BottomTabs::Shopping"
    label: "Verification - Navigate to Shopping screen"

- runFlow:
    file: "../../asserts/shopping/en/shoppingPancake.yaml"
    label: "Assert - Verify Pancake ingredients in shopping list"

- tapOn:
    id: "BottomTabs::Menu"
    label: "Action - Navigate to Menu screen"

- runFlow:
    file: "../../flows/menu/toggleFirstItemCooked.yaml"
    label: "Action - Mark recipe as cooked"

- assertVisible:
    text: "Cooked"
    label: "Assert - Verify recipe moved to Cooked section"

- tapOn:
    id: "BottomTabs::Shopping"
    label: "Verification - Navigate to Shopping screen"

- runFlow:
    file: "../../asserts/shopping/en/shoppingEmpty.yaml"
    label: "Assert - Shopping list now empty (cooked items excluded)"

- tapOn:
    id: "BottomTabs::Menu"
    label: "Action - Navigate back to Menu screen"

- runFlow:
    file: "../../flows/menu/toggleFirstItemCooked.yaml"
    label: "Action - Mark recipe as uncooked again"

- tapOn:
    id: "BottomTabs::Shopping"
    label: "Verification - Navigate to Shopping screen"

- runFlow:
    file: "../../asserts/shopping/en/shoppingPancake.yaml"
    label: "Assert - Pancake ingredients back in shopping list"

- runFlow:
    file: "../../flows/shopping/en/clearShoppingList.yaml"
    label: "Cleanup - Clear shopping list"

- tapOn:
    id: "BottomTabs::Home"
    label: "Cleanup - Navigate to Home screen"

name: "8 - Single Filter Application Flow"
appId: "com.recipedia"
tags:
  - search
---
- runFlow:
    file: "../../flows/setupTest.yaml"
    label: "Setup - Launch app and wait for ready"

- tapOn:
    id: "BottomTabs::Search"
    label: "Action - Navigate to Search screen"

- tapOn:
    id: "SearchScreen::FiltersToggleButtons"
    label: "Action - Open the filter page"

- tapOn:
    id: "SearchScreen::FilterAccordion::Accordion::3"
    label: "Action - Expand Cereal accordion"

- scrollUntilVisible:
    element:
      text: "Spaghetti"
    direction: DOWN
    centerElement: true
    label: "Action - Scroll to Spaghetti item"

- tapOn:
    text: "Spaghetti"
    label: "Action - Select Spaghetti as filter"

- runFlow:
    file: "../../asserts/search/en/filters/filtersViewFilteredOnSpaghetti.yaml"
    label: "Assert - Verify filter view with Spaghetti selected"

- tapOn:
    id: "SearchScreen::FiltersSelection::0::Chip"
    label: "Action - Remove Spaghetti filter by tapping on chip"

- assertNotVisible:
    id: "SearchScreen::FiltersSelection::0::Chip"
    label: "Assert - Verify Spaghetti filter chip is no longer visible"

- assertNotVisible:
    text: "Spaghetti"
    label: "Assert - Verify Spaghetti filter text is no longer visible"

- tapOn:
    id: "SearchScreen::FiltersToggleButtons"
    label: "Action - Close the filter page"

- tapOn:
    id: "BottomTabs::Home"
    label: "Cleanup - Navigate back to Home screen"

name: "1 - Search Bar Open/Close Flow"
appId: "com.recipedia"
tags:
  - search
---
- runFlow:
    file: "../../flows/setupFirstTest.yaml"
    label: "Setup - Launch app and wait for ready"

- tapOn:
    id: "BottomTabs::Search"
    label: "Action - Navigate to Search screen"

- tapOn:
    id: "SearchScreen::SearchBar"
    label: "Action - Focus on search bar to open dropdown"

- runFlow:
    when:
      platform: Android
    commands:
      - hideKeyboard:
          label: "Dismiss keyboard on Android"

- runFlow:
    file: "../../asserts/search/searchbar/searchBarNotFiltered.yaml"
    label: "Assert - Verify search bar dropdown shows all recipes"

- tapOn:
    id: "SearchScreen::SearchBar::RightIcon"
    label: "Action - Close dropdown by tapping close icon"

- runFlow:
    file: "../../asserts/search/en/assertSearchScreen.yaml"
    label: "Assert - Verify Search screen is back to normal view"

- tapOn:
    id: "BottomTabs::Home"
    label: "Cleanup - Navigate back to Home screen"

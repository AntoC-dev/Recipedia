name: "2 - Search Scroll Independence Flow"
appId: "com.recipedia"
tags:
  - search
---
- runFlow:
    file: "../../flows/setupTest.yaml"
    label: "Setup - Launch app and wait for ready"

- tapOn:
    id: "BottomTabs::Search"
    label: "Action - Navigate to Search screen"

- tapOn:
    id: "SearchScreen::SearchBar"
    label: "Action - Focus on search bar to open dropdown"

- runFlow:
    when:
      platform: Android
    commands:
      - hideKeyboard:
          label: "Dismiss keyboard on Android"

- scrollUntilVisible:
    element:
      text: "Sushi Rolls"
    direction: DOWN
    speed: 40
    label: "Action - Scroll down in dropdown to bottom recipes"

- assertVisible:
    text: "Sushi Rolls"
    label: "Assert - Verify Sushi Rolls is visible in dropdown"

- tapOn:
    id: "SearchScreen::SearchBar::RightIcon"
    label: "Action - Close dropdown by tapping close icon"

- scrollUntilVisible:
    element:
      id: "SearchScreen::RecipeCards::0::Spaghetti Bolognese"
    direction: UP
    speed: 60
    centerElement: true
    label: "Scroll to first recipe card"

- assertVisible:
    id: "SearchScreen::RecipeCards::0::Spaghetti Bolognese"
    label: "Assert - Verify first recipe card is visible (scroll independence verified)"

- assertVisible:
    id: "SearchScreen::RecipeCards::1::Chicken Tacos"
    label: "Assert - Verify second recipe card is visible"

- tapOn:
    id: "BottomTabs::Home"
    label: "Cleanup - Navigate back to Home screen"

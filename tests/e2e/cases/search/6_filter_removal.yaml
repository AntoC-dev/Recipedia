name: "6 - Search Filter Removal Flow"
appId: "com.recipedia"
tags:
  - search
---
- runFlow:
    file: "../../flows/setupTest.yaml"
    label: "Setup - Launch app and wait for ready"

- tapOn:
    id: "BottomTabs::Search"
    label: "Action - Navigate to Search screen"

- tapOn:
    id: "SearchScreen::SearchBar"
    label: "Action - Focus on search bar"

- inputText: "Lentil"

- runFlow:
    file: "../../asserts/search/searchbar/searchBarFilteredOnLentil.yaml"
    label: "Assert - Verify dropdown filtered on 'Lentil'"

- pressKey: "enter"

- waitForAnimationToEnd:
    label: "Wait for keyboard to dismiss"

- runFlow:
    file: "../../asserts/search/en/searchScreenFilteredOnLentilCury.yaml"
    label: "Assert - Verify Search screen shows filtered results for Lentil Curry"

- tapOn:
    id: "SearchScreen::FiltersSelection::0::Chip"
    label: "Action - Tap filter chip to remove filter"

- runFlow:
    file: "../../asserts/search/en/assertSearchScreen.yaml"
    label: "Assert - Verify all recipe cards are visible again"

- runFlow:
    file: "../../flows/search/scrollBackToTop.yaml"
    label: "Scroll back to top of search screen"

- tapOn:
    id: "BottomTabs::Home"
    label: "Cleanup - Navigate back to Home screen"

appId: "com.recipedia"
---
- launchApp:
    appId: "com.apple.mobileslideshow"
    label: "Open iOS Photos app"

- waitForAnimationToEnd:
    label: "Wait for Photos app to finish loading"

- extendedWaitUntil:
    visible:
      text: "Continue"
    timeout: 5000
    optional: true
    label: "Wait for what's new screen to appear"

- runFlow:
    when:
      visible:
        text: "Continue"
    commands:
      - tapOn:
          text: "Continue"
          label: "Close the what's new screen if it appears"

- extendedWaitUntil:
    visible:
      text: "Select"
    timeout: 3000
    label: "Wait for select button to appear"

- runFlow:
    when:
      visible:
        text: "Select"
    commands:
      - runFlow:
          file: "cleanupPhotos.yaml"
          label: "Delete all photos from library"
    label: "Clean up photos if any exist"

- stopApp:
    appId: "com.apple.mobileslideshow"
    label: "Close Photos app"

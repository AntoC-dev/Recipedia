appId: "com.recipedia"
---

- tapOn:
    id: "RecipeTitle::CustomTextInput"
    label: "Focus on recipe title input"

- runFlow:
    when:
      visible:
        id: "RecipeTitle::CustomTextInput"
        text: ".*"
    commands:
      - eraseText:
          label: "Erase the existing title"
      - waitForAnimationToEnd:
          label: "Wait for keyboard animation"
      - assertVisible:
          id: "RecipeTitle::CustomTextInput"
          text: ""
          label: "Check that the title is empty"

- inputText:
    text: "${TITLE}"
    label: "Enter recipe title"

- waitForAnimationToEnd:
    label: "Wait for keyboard animation"

- tapOn:
    id: "RecipeImage"
    label: "Tap on recipe image to close the keyboard"

- assertVisible:
    id: "RecipeTitle::CustomTextInput"
    text: "${TITLE}"

- runFlow:
    file: "../../waitForKeyboardDismiss.yaml"
    label: "Wait for keyboard to disappear"

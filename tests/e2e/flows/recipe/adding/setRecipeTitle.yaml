appId: "com.recipedia"
---

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipeTitle::CustomTextInput"
    direction: UP
    speed: 60
    centerElement: true
    label: "Scroll to center recipe title"

- waitForAnimationToEnd

- tapOn:
    id: "RecipeTitle::CustomTextInput"
    label: "Focus on recipe title input"

- runFlow:
    when:
      visible:
        id: "RecipeTitle::CustomTextInput"
        text: ".*"
    commands:
      - eraseText:
          label: "Erase the existing title"
      - waitForAnimationToEnd:
          label: "Wait for keyboard animation"
      - tapOn:
          id: "RecipeTitle::CustomTextInput"
          label: "Re-focus field after erase"
      - runFlow:
          file: "../../waitForKeyboard.yaml"
          label: "Wait for keyboard to appear"

- inputText:
    text: "${TITLE}"
    label: "Enter recipe title"

- assertVisible:
    id: "RecipeTitle::CustomTextInput"
    text: "${TITLE}"

- tapOn:
    id: "RecipeImage"
    label: "Tap on recipe image to close the keyboard"

- runFlow:
    file: "../../waitForKeyboardDismiss.yaml"
    label: "Wait for keyboard to disappear"

appId: "com.recipedia"
---
# Select N recipes by scrolling and tapping each checkbox
# Expects env variable: RECIPE_COUNT (number of recipes to select)

- evalScript: ${output.currentIndex = 0}

- repeat:
    while:
      true: ${output.currentIndex < RECIPE_COUNT}
    commands:
      - scrollUntilVisible:
          element:
            id: "BulkImportDiscovery::fresh-${output.currentIndex}"
          direction: DOWN
          speed: 40
          timeout: 30000
          centerElement: true
      - tapOn:
          id: "BulkImportDiscovery::fresh-${output.currentIndex}"
      - evalScript: ${output.currentIndex = output.currentIndex + 1}

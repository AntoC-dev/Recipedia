appId: "com.recipedia"
---
- runFlow:
    file: "../../common/fr/buttonsReadOnly.yaml"
    label: "Assert common ReadOnly buttons and image (French)"

- assertVisible:
    id: "RecipeTitle::Text"
    text: "POULET SAUCE SATAY.*"
    label: "Title text is displayed"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipeDescription::Text"
    direction: DOWN
    centerElement: true
    speed: 60
    label: "Scroll to description"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipeDescription::Text"
    text: "La sauce satay est une sauce d'Asie du Sud-Est à base de cacahuètes, ail et gingembre ! Reproduisez-la pour accompagner notre poulet français!"
    label: "Description of the recipe is rendered"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipePersons::Text"
    direction: DOWN
    centerElement: true
    speed: 60
    label: "Scroll to persons"

- waitForAnimationToEnd

- assertNotVisible:
    id: "RecipeTags::0::Chip"
    label: "Tags part is not rendered"

- assertVisible:
    text: "Ingrédients (4 personnes)"
    label: "Ingredient section and persons is displayed"

- runFlow:
    file: "../../common/assertIngredient.yaml"
    env:
      INGREDIENT_NAME: "cacahuètes grillées"
      INGREDIENT_QUANTITY_AND_UNIT: "200 g"
    label: "Assert cacahuètes grillées ingredient"

- runFlow:
    file: "../../common/assertIngredient.yaml"
    env:
      INGREDIENT_NAME: "concentré de tomates"
      INGREDIENT_QUANTITY_AND_UNIT: "70 g"
    label: "Assert concentré de tomates ingredient"

- runFlow:
    file: "../../common/assertIngredient.yaml"
    env:
      INGREDIENT_NAME: "flet de poulet"
      INGREDIENT_QUANTITY_AND_UNIT: "4"
    label: "Assert flet de poulet ingredient"

- runFlow:
    file: "../../common/assertIngredient.yaml"
    env:
      INGREDIENT_NAME: "gingembre"
      INGREDIENT_QUANTITY_AND_UNIT: "1à3 g"
    label: "Assert gingembre ingredient"

- runFlow:
    file: "../../common/assertIngredient.yaml"
    env:
      INGREDIENT_NAME: "gOussed'ail"
      INGREDIENT_QUANTITY_AND_UNIT: "2"
    label: "Assert gOussed'ail ingredient"

- runFlow:
    file: "../../common/assertIngredient.yaml"
    env:
      INGREDIENT_NAME: "lait de coco"
      INGREDIENT_QUANTITY_AND_UNIT: "400 g"
    label: "Assert lait de coco ingredient"

- runFlow:
    file: "../../common/assertIngredient.yaml"
    env:
      INGREDIENT_NAME: "oignon jaune"
      INGREDIENT_QUANTITY_AND_UNIT: "2"
    label: "Assert lait de coco ingredient"

- runFlow:
    file: "../../common/assertIngredient.yaml"
    env:
      INGREDIENT_NAME: "oignon nouveau"
      INGREDIENT_QUANTITY_AND_UNIT: "1"
    label: "Assert oignon nouveau ingredient"

- runFlow:
    file: "../../common/assertIngredient.yaml"
    env:
      INGREDIENT_NAME: "riz basmati  Bio"
      INGREDIENT_QUANTITY_AND_UNIT: "300 g"
    label: "Assert riz basmati  Bio ingredient"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipeTime::Text"
    direction: DOWN
    speed: 60
    centerElement: true

- waitForAnimationToEnd

- assertVisible:
    id: "RecipeTime::Text"
    text: "Préparation (30 min)"
    label: "Preparation section and time are displayed"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipePreparation::ReadOnlyStep::0::SectionTitle"
    direction: DOWN
    centerElement: true
    speed: 60

- waitForAnimationToEnd

- assertVisible:
    id: "RecipePreparation::ReadOnlyStep::0::SectionTitle"
    text: "1) Le poulet"
    label: "First preparation title is displayed"

- assertVisible:
    id: "RecipePreparation::ReadOnlyStep::0::SectionParagraph"
    text: "[\\s\\S]+"
    label: "First preparation paragraph is displayed"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipePreparation::ReadOnlyStep::1::SectionTitle"
    direction: DOWN
    centerElement: true
    speed: 60

- waitForAnimationToEnd

- assertVisible:
    id: "RecipePreparation::ReadOnlyStep::1::SectionTitle"
    text: "2) La sauce satay"
    label: "Second preparation title is displayed"

- assertVisible:
    id: "RecipePreparation::ReadOnlyStep::1::SectionParagraph"
    text: "[\\s\\S]+"
    label: "Second preparation paragraph is displayed"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipePreparation::ReadOnlyStep::2::SectionTitle"
    direction: DOWN
    centerElement: true
    speed: 60

- waitForAnimationToEnd

- assertVisible:
    id: "RecipePreparation::ReadOnlyStep::2::SectionTitle"
    text: "3) Le poulet sauce satay"
    label: "Third preparation title is displayed"

- assertVisible:
    id: "RecipePreparation::ReadOnlyStep::2::SectionParagraph"
    text: "[\\s\\S]+"
    label: "Third preparation paragraph is displayed"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipePreparation::ReadOnlyStep::3::SectionTitle"
    direction: DOWN
    speed: 60
    centerElement: true
    label: "Fourth preparation title is displayed"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipePreparation::ReadOnlyStep::3::SectionTitle"
    text: "4) Le riz"
    label: "Fourth preparation title is displayed"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipePreparation::ReadOnlyStep::3::SectionParagraph"
    direction: DOWN
    speed: 60
    centerElement: true
    label: "Fourth preparation paragraph is displayed"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipePreparation::ReadOnlyStep::3::SectionParagraph"
    text: "Portez une casserole d'eau salée à ébullition.\nFaites cuire le riz selon les indications du paquet.\nRetirez la base de .*'oignon nouveau et émincez-le.\nDégustez sans attendre votre poulet sauce satay accompagné du riz!\nParsemez-le d'oignon nouveau."
    label: "Fourth preparation paragraph is displayed"

- runFlow:
    file: "../../common/fr/nutritionReadOnly.yaml"
    env:
      ENERGY_KCAL: "218"
      ENERGY_KJ: "911"
      FAT: "8.53"
      SATURATED_FAT: "0.46"
      CARBOHYDRATES: "24.37"
      SUGARS: "2.92"
      FIBER: "0.81"
      PROTEIN: "9.93"
      SALT: "0.65"
    label: "Verify nutrition values from OCR (French)"

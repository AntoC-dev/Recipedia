appId: "com.recipedia"
---
- runFlow:
    file: "../../common/buttonsReadOnly.yaml"
    label: "Assert common ReadOnly buttons and image"

- assertVisible:
    id: "RecipeTitle::Text"
    text: "CURRY DE POIS CHICHES ET POIREAU AUX ÉPICES CACHEMIRE"
    label: "Title text is displayed"

- assertVisible:
    id: "RecipeDescription::Text"
    text: "Coupez le poireau en 4 dans la longueur sans aller au bout. Lavez-les sous un filet d'eau en écartant les feuilles pour bien éliminer la terre."
    label: "Description of the recipe is rendered"

- assertNotVisible:
    id: "RecipeTags::0::Chip"
    label: "Tags part is not rendered"

- scrollUntilVisible:
    element:
      id: "RecipePersons::Text"
    direction: DOWN
    centerElement: true
    speed: 60
    label: "Scroll to ingredients section"

- assertVisible:
    text: "Ingredients (4 persons)"
    label: "Ingredient section and persons is displayed"

- runFlow:
    file: "../../common/assertIngredient.yaml"
    env:
      INGREDIENT_NAME: "carotte"
      INGREDIENT_QUANTITY_AND_UNIT: "2"
    label: "Assert carotte ingredient"

- runFlow:
    file: "../../common/assertIngredient.yaml"
    env:
      INGREDIENT_NAME: "citronnelle"
      INGREDIENT_QUANTITY_AND_UNIT: "2"
    label: "Assert citronnelle ingredient"

- runFlow:
    file: "../../common/assertIngredient.yaml"
    env:
      INGREDIENT_NAME: "cébette"
      INGREDIENT_QUANTITY_AND_UNIT: "2"
    label: "Assert cébette ingredient"

- runFlow:
    file: "../../common/assertIngredient.yaml"
    env:
      INGREDIENT_NAME: "cébette"
      INGREDIENT_QUANTITY_AND_UNIT: "2"
    label: "Assert cébette ingredient"

- runFlow:
    file: "../../common/assertIngredient.yaml"
    env:
      INGREDIENT_NAME: "gousse d'ail"
      INGREDIENT_QUANTITY_AND_UNIT: "2"
    label: "Assert gousse d'ail ingredient"

- runFlow:
    file: "../../common/assertIngredient.yaml"
    env:
      INGREDIENT_NAME: "lait de coco"
      INGREDIENT_QUANTITY_AND_UNIT: "400 g"
    label: "Assert lait de coco ingredient"

- runFlow:
    file: "../../common/assertIngredient.yaml"
    env:
      INGREDIENT_NAME: "oignon jaune"
      INGREDIENT_QUANTITY_AND_UNIT: "2"
    label: "Assert oignon jaune ingredient"

- runFlow:
    file: "../../common/assertIngredient.yaml"
    env:
      INGREDIENT_NAME: "poireau"
      INGREDIENT_QUANTITY_AND_UNIT: "2"
    label: "Assert poireau ingredient"

- runFlow:
    file: "../../common/assertIngredient.yaml"
    env:
      INGREDIENT_NAME: "pois chiches conserve  Bio"
      INGREDIENT_QUANTITY_AND_UNIT: "200 g"
    label: "Assert pois chiche ingredient"

- runFlow:
    file: "../../common/assertIngredient.yaml"
    env:
      INGREDIENT_NAME: "purée de tomates"
      INGREDIENT_QUANTITY_AND_UNIT: "250 g"
    label: "Assert purée de tomates ingredient"

- runFlow:
    file: "../../common/assertIngredient.yaml"
    env:
      INGREDIENT_NAME: "riz basmati"
      INGREDIENT_QUANTITY_AND_UNIT: "300 g"
    label: "Assert riz basmati ingredient"

- runFlow:
    file: "../../common/assertIngredient.yaml"
    env:
      INGREDIENT_NAME: "épices Cachemire"
      INGREDIENT_QUANTITY_AND_UNIT: "2 g"
    label: "Assert épices Cachemire ingredient"

- scrollUntilVisible:
    element:
      id: "RecipeTime::Text"
    direction: DOWN
    speed: 60
    centerElement: true

- assertVisible:
    id: "RecipeTime::Text"
    text: "Preparation (40 min)"
    label: "Preparation section and time are displayed"

- scrollUntilVisible:
    element:
      id: "RecipePreparation::ReadOnlyStep::0::SectionTitle"
    direction: DOWN
    centerElement: true
    speed: 60

- assertVisible:
    id: "RecipePreparation::ReadOnlyStep::0::SectionTitle"
    text: "1) La préparation"
    label: "First preparation title is displayed"

- assertVisible:
    id: "RecipePreparation::ReadOnlyStep::0::SectionParagraph"
    text: "[\\s\\S]+"
    label: "First preparation paragraph is displayed"

- scrollUntilVisible:
    element:
      id: "RecipePreparation::ReadOnlyStep::1::SectionTitle"
    direction: DOWN
    centerElement: true
    speed: 60

- assertVisible:
    id: "RecipePreparation::ReadOnlyStep::1::SectionTitle"
    text: "2) Le curry"
    label: "Second preparation title is displayed"

- assertVisible:
    id: "RecipePreparation::ReadOnlyStep::1::SectionParagraph"
    text: "[\\s\\S]+"
    label: "Second preparation paragraph is displayed"

- scrollUntilVisible:
    element:
      id: "RecipePreparation::ReadOnlyStep::2::SectionTitle"
    direction: DOWN
    centerElement: true
    speed: 60

- assertVisible:
    id: "RecipePreparation::ReadOnlyStep::2::SectionTitle"
    text: "3) Le riz"
    label: "Third preparation title is displayed"

- assertVisible:
    id: "RecipePreparation::ReadOnlyStep::2::SectionParagraph"
    text: "[\\s\\S]+"
    label: "Third preparation paragraph is displayed"

- assertNotVisible:
    id: "Recipe::RecipeNutrition::NutritionTable"
    label: "Nutrition table is not displayed (no nutrition data)"

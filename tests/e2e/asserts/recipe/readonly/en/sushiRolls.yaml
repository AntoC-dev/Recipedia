appId: "com.recipedia"
---
- assertVisible:
    id: "Recipe::AppBar::BackButton"
    label: "Back button is displayed"

- runFlow:
    when:
      platform: Android
    commands:
      - assertVisible:
          text: "󰁍"
          label: "Back button icon is displayed on Android"

- runFlow:
    when:
      platform: iOS
    commands:
      - assertVisible:
          text: "Back"
          label: "Back button icon is displayed on iOS"

- assertVisible:
    id: "RecipeImage"
    label: "Image is rendered"
- assertVisible:
    id: "RecipeTitle::Text"
    text: "Sushi Rolls"
    label: "Title is rendered"
- assertVisible:
    id: "RecipeDescription::Text"
    text: "Classic sushi rolls with nori, rice, and fillings."
    label: "Description is rendered"
- assertVisible:
    id: "RecipeTags::0::Chip"
    label: "First tag is rendered"
- assertVisible:
    text: "Japanese"
    label: "Tag Japanese is rendered"
- assertVisible:
    id: "RecipeTags::1::Chip"
    label: "Second tag is rendered"
- assertVisible:
    text: "Seafood"
    label: "Tag Seafood is rendered"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipeIngredients::0::IngredientName"
    direction: DOWN
    speed: 60
    centerElement: true
    label: "Scroll to Sushi Rice ingredient"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipeIngredients::0::IngredientName"
    text: "Sushi Rice"
    label: "Ingredient Sushi Rice is rendered"
- assertVisible:
    id: "RecipeIngredients::0::QuantityAndUnit"
    text: "250 g"
    label: "Quantity of Sushi Rice is rendered"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipeIngredients::1::IngredientName"
    direction: DOWN
    speed: 60
    centerElement: true
    label: "Scroll to Nori Sheets ingredient"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipeIngredients::1::IngredientName"
    text: "Nori Sheets"
    label: "Ingredient Nori Sheets is rendered"
- assertVisible:
    id: "RecipeIngredients::1::QuantityAndUnit"
    text: "5 pieces"
    label: "Quantity of Nori Sheets is rendered"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipeIngredients::2::IngredientName"
    direction: DOWN
    speed: 60
    centerElement: true
    label: "Scroll to Salmon ingredient"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipeIngredients::2::IngredientName"
    text: "Salmon"
    label: "Ingredient Salmon is rendered"
- assertVisible:
    id: "RecipeIngredients::2::QuantityAndUnit"
    text: "200 g"
    label: "Quantity of Salmon is rendered"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipeIngredients::3::IngredientName"
    direction: DOWN
    speed: 60
    centerElement: true
    label: "Scroll to Avocado ingredient"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipeIngredients::3::IngredientName"
    text: "Avocado"
    label: "Ingredient Avocado is rendered"
- assertVisible:
    id: "RecipeIngredients::3::QuantityAndUnit"
    text: "100 g"
    label: "Quantity of Avocado is rendered"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipeIngredients::4::IngredientName"
    direction: DOWN
    speed: 60
    centerElement: true
    label: "Scroll to Soy Sauce ingredient"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipeIngredients::4::IngredientName"
    text: "Soy Sauce"
    label: "Ingredient Soy Sauce is rendered"
- assertVisible:
    id: "RecipeIngredients::4::QuantityAndUnit"
    text: "50 ml"
    label: "Quantity of Soy Sauce is rendered"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipeTime::Text"
    direction: DOWN
    speed: 40
    centerElement: true
    label: "Scroll to preparation time"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipeTime::Text"
    text: "Preparation (45 min)"
    label: "Preparation title and time is rendered"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipePreparation::ReadOnlyStep::0::SectionTitle"
    direction: DOWN
    centerElement: true
    speed: 60
    label: "Scroll to first preparation step"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipePreparation::ReadOnlyStep::0::SectionTitle"
    text: "1) Prepare rice"
    label: "First section of the preparation is rendered"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipePreparation::ReadOnlyStep::1::SectionTitle"
    direction: DOWN
    centerElement: true
    speed: 60
    label: "Scroll to second preparation step"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipePreparation::ReadOnlyStep::1::SectionTitle"
    text: "2) Spread rice"
    label: "Second section of the preparation is rendered"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipePreparation::ReadOnlyStep::2::SectionTitle"
    direction: DOWN
    centerElement: true
    speed: 60
    label: "Scroll to third preparation step"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipePreparation::ReadOnlyStep::2::SectionTitle"
    text: "3) Add fillings and roll"
    label: "Third section of the preparation is rendered"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipePreparation::ReadOnlyStep::3::SectionTitle"
    direction: DOWN
    centerElement: true
    speed: 60
    label: "Scroll to fourth preparation step"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipePreparation::ReadOnlyStep::3::SectionTitle"
    text: "4) Serve"
    label: "Fourth section of the preparation is rendered"

- runFlow:
    file: "../../common/nutritionReadOnly.yaml"
    env:
      ENERGY_KCAL: "195"
      ENERGY_KJ: "816"
      FAT: "8.2"
      SATURATED_FAT: "1.8"
      CARBOHYDRATES: "22"
      SUGARS: "2.5"
      FIBER: "1.2"
      PROTEIN: "12.5"
      SALT: "1.85"
    label: "Verify nutrition information is displayed"

- assertVisible:
    id: "Recipe::AppBar::Edit"
    label: "Edit button is rendered"

- assertVisible:
    text: "󰏫"
    label: "Edit button has the correct icon"

- assertVisible:
    id: "Recipe::BottomActionButton"
    label: "Add recipe button is displayed"

- assertVisible:
    text: "Add to the menu"
    label: "Add to menu button has the correct text"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipeImage"
    direction: UP
    centerElement: true
    speed: 95
    label: "Scroll back to top"

- waitForAnimationToEnd


appId: "com.recipedia"
---
- runFlow:
    file: "../../common/buttonsReadOnly.yaml"
    label: "Assert common ReadOnly buttons and image"

- assertVisible:
    id: "RecipeTitle::Text"
    text: "TAJINE DE MERGUEZ AU CUMIN"
    label: "Title text is displayed"

- assertVisible:
    id: "RecipeDescription::Text"
    text: ""
    label: "Description of the recipe is empty"

- scrollUntilVisible:
    element:
      id: "RecipePersons::Text"
    direction: DOWN
    centerElement: true
    speed: 60

- assertNotVisible:
    id: "RecipeTags::0::Chip"
    label: "Tags part is not rendered"

- assertVisible:
    text: "Ingredients (4 persons)"
    label: "Ingredient section and persons is displayed"

- runFlow:
    file: "../../common/assertIngredient.yaml"
    env:
      INGREDIENT_NAME: "carotte"
      INGREDIENT_QUANTITY_AND_UNIT: "2"
    label: "Assert carotte ingredient"

- runFlow:
    file: "../../common/assertIngredient.yaml"
    env:
      INGREDIENT_NAME: "cumin"
      INGREDIENT_QUANTITY_AND_UNIT: "2 g"
    label: "Assert cumin ingredient"

- runFlow:
    file: "../../common/assertIngredient.yaml"
    env:
      INGREDIENT_NAME: ".*merguez.*"
      INGREDIENT_QUANTITY_AND_UNIT: ".*"
    label: "Assert merguez ingredient"

- runFlow:
    file: "../../common/assertIngredient.yaml"
    env:
      INGREDIENT_NAME: ".*navet.*"
      INGREDIENT_QUANTITY_AND_UNIT: ".*"
    label: "Assert navet ingredient"

- runFlow:
    file: "../../common/assertIngredient.yaml"
    env:
      INGREDIENT_NAME: ".*pommes de terre jaunes.*"
      INGREDIENT_QUANTITY_AND_UNIT: ".*"
    label: "Assert pommes de terre jaunes ingredient"

- assertVisible:
    id: "RecipeTime::Text"
    text: "Preparation (25 min)"
    label: "Preparation section and time are displayed"

- scrollUntilVisible:
    element:
      id: "RecipePreparation::ReadOnlyStep::0::SectionTitle"
    direction: DOWN
    centerElement: true
    speed: 60

- assertVisible:
    id: "RecipePreparation::ReadOnlyStep::0::SectionTitle"
    text: "1) Avant de commencer"
    label: "First preparation title is displayed"

- assertVisible:
    id: "RecipePreparation::ReadOnlyStep::0::SectionParagraph"
    text: "[\\s\\S]+"
    label: "First preparation paragraph is displayed"

- scrollUntilVisible:
    element:
      id: "RecipePreparation::ReadOnlyStep::1::SectionTitle"
    direction: DOWN
    centerElement: true
    speed: 60

- assertVisible:
    id: "RecipePreparation::ReadOnlyStep::1::SectionTitle"
    text: "2) Le tajine"
    label: "Second preparation title is displayed"

- assertVisible:
    id: "RecipePreparation::ReadOnlyStep::1::SectionParagraph"
    text: "[\\s\\S]+"
    label: "Second preparation paragraph is displayed"

- assertNotVisible:
    id: "Recipe::RecipeNutrition::NutritionTable"
    label: "Nutrition table is not displayed (no nutrition data)"

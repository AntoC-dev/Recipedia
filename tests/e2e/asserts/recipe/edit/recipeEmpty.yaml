appId: "com.recipedia"
---
- runFlow:
    file: "../common/buttonsAddingManually.yaml"
    label: "Assert manually adding mode buttons are displayed"
- assertVisible:
    id: "RecipeImage"
    label: "Image id is displayed"

- assertVisible:
    text: "Title:"
    label: "Title introduction text is displayed"

- assertVisible:
    id: "RecipeTitle::CustomTextInput"
    text: ""
    label: "Title TextInput is displayed with empty text"

- assertVisible:
    text: "Description:"
    label: "Description introduction text is displayed"

- assertVisible:
    id: "RecipeDescription::CustomTextInput"
    text: ""
    label: "Description TextInput is displayed with the empty text"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipeTags::HeaderText"
    direction: DOWN
    speed: 60
    centerElement: true
    label: "Scroll to tags section"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipeTags::HeaderText"
    text: ""
    label: "Header text id for the tags is displayed with the empty text"

- assertVisible:
    id: "RecipeTags::ElementText"
    text: "Tags are a way to identify a recipe and make easier its search.\n\
      Here are some examples of tags you can have : .*, .*, .*"
    label: "Explanation text id for the tags is displayed with the empty text"

- assertNotVisible:
    id: "RecipeTags::0::Chip"
    label: "No tag is not displayed"

- runFlow:
    when:
      platform: Android
    commands:
      - assertNotVisible:
          text: "ó°…–"
          label: "Tag's icon is not displayed on Android"

- runFlow:
    when:
      platform: iOS
    commands:
      - assertNotVisible:
          text: "Close"
          label: "Tag's icon is not displayed on iOS"


- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipePersons::NumericTextInput"
    direction: DOWN
    speed: 60
    centerElement: true
    label: "Scroll to person section"

- waitForAnimationToEnd

- assertVisible:
    text: "This recipe is for : "
    label: "Person text sentence begin is displayed"

- assertVisible:
    id: "RecipePersons::NumericTextInput"
    text: "4"
    label: "Person TextInput is displayed with the default text"

- assertVisible:
    text: " persons"
    label: "Person text sentence end is displayed"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipeIngredients::PrefixText"
    direction: DOWN
    speed: 60
    centerElement: true
    label: "Scroll to ingredients section"

- waitForAnimationToEnd

- assertVisible:
    text: "Ingredients: "
    label: "Ingredient section is displayed"

- assertVisible:
    text: "Quantity"
    label: "Quantity column is displayed"

- assertVisible:
    text: "Unit"
    label: "Unit column is displayed"

- assertVisible:
    text: "Name"
    label: "Ingredient name column is displayed"

- assertNotVisible:
    id: "RecipeIngredients::0::QuantityInput"
    label: "Ingredient #1 quantity TextInput is not displayed"

- assertNotVisible:
    id: "RecipeIngredients::0::Dropdown:Unit"
    label: "Ingredient #1 unit text is not displayed"

- assertNotVisible:
    id: "RecipeIngredients::0::NameInput::CustomTextInput"
    label: "Ingredient #1 name TextInput is not displayed"

- assertVisible:
    id: "RecipeIngredients::AddButton::RoundButton"
    label: "Add ingredient button is displayed with the correct icon"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipeTime::PrefixText"
    direction: DOWN
    speed: 40
    centerElement: true
    label: "Scroll to time section"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipeTime::PrefixText"
    text: "Time to prepare the recipe :"
    label: "Time to prepare text is displayed"

- assertVisible:
    id: "RecipeTime::NumericTextInput"
    text: ""
    label: "Time TextInput is displayed with the correct text"

- assertVisible:
    text: "min"
    label: "Minute text is displayed"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipePreparation::AddButton::RoundButton"
    direction: DOWN
    speed: 60
    centerElement: true
    label: "Scroll to preparation add button"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipePreparation::PrefixText"
    text: "Preparation :"
    label: "Preparation prefix text is rendered"
- assertNotVisible:
    text: "Step 1"
    label: "Preparation #1 text is not displayed"

- assertNotVisible:
    text: "Title of step 1 : "
    label: "Preparation #1 title text is not displayed"

- assertNotVisible:
    text: "Content of step 1 : "
    label: "Preparation #1 content text is not displayed"

- assertVisible:
    id: "RecipePreparation::PrefixText"
    text: "Preparation :"
    label: "Preparation prefix text is displayed"

- assertVisible:
    id: "RecipePreparation::AddButton::RoundButton"
    label: "New preparation button is displayed with the correct icon"

- runFlow:
    file: "../common/nutritionEmptyEdit.yaml"
    label: "Verify nutrition section is empty with add button"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipeImage"
    direction: UP
    speed: 95
    centerElement: true

- waitForAnimationToEnd


appId: "com.recipedia"
---
- runFlow:
    file: "../common/buttonsOCRFilled.yaml"
    label: "Assert common OCR buttons and image (filled state)"

- assertVisible:
    id: "RecipeTitle::Text"
    text: "Title:"
    label: "Intro text for the title is rendered"

- assertVisible:
    id: "RecipeTitle::CustomTextInput"
    text: "CURRY DE POIS CHICHES ET POIREAU AUX ÉPICES CACHEMIRE"
    label: "Title of the recipe is rendered"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipeDescription::Text"
    direction: DOWN
    speed: 40
    centerElement: true
    label: "Scroll down to description text"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipeDescription::Text"
    text: "Description:"
    label: "Intro text for the description is rendered"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipeDescription::CustomTextInput"
    direction: DOWN
    speed: 40
    centerElement: true
    label: "Scroll down to description text input"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipeDescription::CustomTextInput"
    text: "Coupez le poireau en 4 dans la longueur sans aller au bout. Lavez-les sous un filet d'eau en écartant les feuilles pour bien éliminer la terre."
    label: "Description of the recipe is rendered"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipeTags::RoundButton"
    direction: DOWN
    speed: 60
    centerElement: true

- waitForAnimationToEnd

- assertVisible:
    id: "RecipeTags::HeaderText"
    text: "Tags:"
    label: "Intro text for the tags is rendered"

- assertVisible:
    id: "RecipeTags::ElementText"
    text: "Tags are a way to identify a recipe and make easier its search.\nHere are some examples of tags you can have : .*, .*, .*"
    label: "Explanation text for the tags is rendered"

- assertVisible:
    id: "RecipeTags::RoundButton"
    label: "Add button for the tag is rendered"

- assertVisible:
    text: "󰐕"
    label: "Add button has the correct icon"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipePersons::NumericTextInput"
    direction: DOWN
    speed: 60
    centerElement: true
    label: "Scroll down to persons part"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipePersons::PrefixText"
    text: "This recipe is for : "
    label: "Intro text for the number of persons is rendered"

- assertVisible:
    id: "RecipePersons::NumericTextInput"
    text: "4"
    label: "Number of persons is rendered"

- assertVisible:
    id: "RecipePersons::SuffixText"
    text: " persons"
    label: "Outro text for the number of persons is rendered"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipeIngredients::PrefixText"
    direction: DOWN
    centerElement: true
    speed: 60

- waitForAnimationToEnd

- assertVisible:
    id: "RecipeIngredients::PrefixText"
    text: "Ingredients: "
    label: "Section Ingredients is rendered"

- assertVisible:
    id: "RecipeIngredients::Header::Quantity"
    text: "Quantity"
    label: "Column Quantity is rendered"

- assertVisible:
    id: "RecipeIngredients::Header::Unit"
    text: "Unit"
    label: "Column Unit is rendered"

- assertVisible:
    id: "RecipeIngredients::Header::IngredientName"
    text: "Name"
    label: "Column Ingredient name is rendered"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipeIngredients::10::NameInput::CustomTextInput"
    direction: DOWN
    centerElement: true
    speed: 60
    label: "Scroll to last ingredient"


- waitForAnimationToEnd

- assertVisible:
    id: "RecipeIngredients::10::QuantityInput"
    label: "Expected to have the right number of ingredients quantities"

- assertVisible:
    id: "RecipeIngredients::10::Unit"
    label: "Expected to have the right number of ingredients units"

- assertVisible:
    id: "RecipeIngredients::10::NameInput::CustomTextInput"
    label: "Expected to have the right number of ingredients names"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipeIngredients::AddButton::RoundButton"
    direction: DOWN
    speed: 60
    centerElement: true
    label: "Scroll down to ingredients add button"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipeIngredients::AddButton::RoundButton"
    label: "Add button of the ingredients is rendered"

- assertVisible:
    text: "󰐕"
    label: "Add button of the ingredients has the correct icon"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipeTime::PrefixText"
    direction: DOWN
    speed: 60
    centerElement: true
    label: "Scroll down to time part"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipeTime::PrefixText"
    text: "Time to prepare the recipe :"
    label: "Intro text for the time to prepare is rendered"

- assertVisible:
    id: "RecipeTime::NumericTextInput"
    text: "40"
    label: "Time to prepare is rendered"

- assertVisible:
    id: "RecipeTime::SuffixText"
    text: "min"
    label: "Outro text for the time to prepare is rendered"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipePreparation::PrefixText"
    direction: DOWN
    speed: 40
    centerElement: true

- waitForAnimationToEnd

- assertVisible:
    id: "RecipePreparation::PrefixText"
    text: "Preparation :"
    label: "Preparation prefix text is rendered"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipePreparation::EditableStep::0::Step"
    direction: DOWN
    speed: 40
    centerElement: true

- waitForAnimationToEnd

- assertVisible:
    id: "RecipePreparation::EditableStep::0::Step"
    text: "Step 1"
    label: "Preparation section for first step is rendered"

- assertVisible:
    id: "RecipePreparation::EditableStep::0::Title"
    text: "Title of step 1 : "
    label: "Intro text for the title of first step is rendered"

- assertVisible:
    id: "RecipePreparation::EditableStep::0::TextInputTitle::CustomTextInput"
    text: "La préparation"
    label: "First preparation step title is rendered"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipePreparation::EditableStep::0::Content"
    direction: DOWN
    centerElement: true
    speed: 60
    label: "Scroll down to content of first step"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipePreparation::EditableStep::0::Content"
    text: "Content of step 1 : "
    label: "Intro text for first step is rendered"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipePreparation::EditableStep::0::TextInputContent::CustomTextInput"
    direction: DOWN
    centerElement: true
    speed: 60
    label: "Scroll down to content of first step content"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipePreparation::EditableStep::0::TextInputContent::CustomTextInput"
    text: "[\\s\\S]+"
    label: "First step is rendered and not empty"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipePreparation::EditableStep::1::Title"
    direction: DOWN
    centerElement: true
    speed: 40
    label: "Scroll down to second step"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipePreparation::EditableStep::1::Title"
    text: "Title of step 2 : "
    label: "Intro text for the title of second step is rendered"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipePreparation::EditableStep::1::TextInputTitle::CustomTextInput"
    direction: DOWN
    centerElement: true
    speed: 60
    label: "Scroll down to second step content"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipePreparation::EditableStep::1::TextInputTitle::CustomTextInput"
    text: "Le curry"
    label: "Second preparation step title is rendered"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipePreparation::EditableStep::1::Content"
    direction: DOWN
    centerElement: true
    speed: 40
    label: "Scroll down to second step"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipePreparation::EditableStep::1::Content"
    text: "Content of step 2 : "
    label: "Intro text for second step is rendered"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipePreparation::EditableStep::1::TextInputContent::CustomTextInput"
    direction: DOWN
    centerElement: true
    speed: 40
    label: "Scroll down to content of second step"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipePreparation::EditableStep::1::TextInputContent::CustomTextInput"
    text: "[\\s\\S]+"
    label: "Second step is rendered and not empty"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipePreparation::EditableStep::2::Title"
    direction: DOWN
    centerElement: true
    speed: 40
    label: "Scroll down to third step"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipePreparation::EditableStep::2::Title"
    text: "Title of step 3 : "
    label: "Intro text for the title of third step is rendered"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipePreparation::EditableStep::2::TextInputTitle::CustomTextInput"
    direction: DOWN
    centerElement: true
    speed: 60
    label: "Scroll down to third step content"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipePreparation::EditableStep::2::TextInputTitle::CustomTextInput"
    text: "Le riz"
    label: "Third preparation step title is rendered"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipePreparation::EditableStep::2::Content"
    direction: DOWN
    centerElement: true
    speed: 40
    label: "Scroll down to content of third step"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipePreparation::EditableStep::2::Content"
    text: "Content of step 3 : "
    label: "Intro text for third step is rendered"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipePreparation::EditableStep::2::TextInputContent::CustomTextInput"
    direction: DOWN
    centerElement: true
    speed: 60
    label: "Scroll down to content of third step content"

- waitForAnimationToEnd

- assertVisible:
    id: "RecipePreparation::EditableStep::2::TextInputContent::CustomTextInput"
    text: "[\\s\\S]+"
    label: "Third step is rendered and not empty"


- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      id: "RecipePreparation::AddButton::RoundButton"
    direction: DOWN
    speed: 40
    centerElement: true

- waitForAnimationToEnd

- assertVisible:
    id: "RecipePreparation::EditableStep::2::TextInputContent::CustomTextInput"
    text: "[\\s\\S]+"
    label: "Third step is rendered and not empty"

- assertVisible:
    id: "RecipePreparation::AddButton::RoundButton"
    label: "Add button of the preparation is rendered"

- assertVisible:
    text: "󰐕"
    label: "Add button of the preparation has the right icon"

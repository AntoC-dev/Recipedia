appId: "com.recipedia"
---
- runFlow:
    file: "filterViewHeader.yaml"
    label: "Assert filter view header elements"

- assertVisible:
    id: "SearchScreen::FiltersSelection::0::Chip"
    label: "Spaghetti filter chip is displayed"

- assertVisible:
    text: "Spaghetti"
    label: "Spaghetti filter chip text is displayed"

# Initialize accordion index counter
- evalScript: ${output.accordionIndex = 0}

- runFlow:
    file: "accordions/inSeason.yaml"
    env:
      STATE: "all"

- runFlow:
    file: "accordions/preparationTime.yaml"
    env:
      STATE: "all"

- runFlow:
    file: "accordions/tags.yaml"
    env:
      STATE: "filtered"
      VISIBLE_ITEMS: "Dinner,Italian"

- runFlow:
    file: "accordions/grainOrCereal.yaml"
    env:
      STATE: "filtered"
      VISIBLE_ITEMS: "Spaghetti"

- runFlow:
    file: "accordions/legumes.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "accordions/vegetable.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "accordions/plantProtein.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "accordions/condiment.yaml"
    env:
      STATE: "hidden"

- scrollUntilVisible:
    element:
      text: "Sauce"
    direction: DOWN
    centerElement: true
    label: "Scroll to Sauce category"

- runFlow:
    file: "accordions/sauce.yaml"
    env:
      STATE: "filtered"
      VISIBLE_ITEMS: "Tomato Sauce"

- runFlow:
    file: "accordions/meat.yaml"
    env:
      STATE: "filtered"
      VISIBLE_ITEMS: "Ground Beef"

- runFlow:
    file: "accordions/poultry.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "accordions/fish.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "accordions/dairy.yaml"
    env:
      STATE: "hidden"

- scrollUntilVisible:
    element:
      text: "Cheese"
    direction: DOWN
    centerElement: true
    label: "Scroll to Cheese category"

- runFlow:
    file: "accordions/cheese.yaml"
    env:
      STATE: "filtered"
      VISIBLE_ITEMS: "Parmesan"

- runFlow:
    file: "accordions/sugar.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "accordions/spice.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "accordions/fruit.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "accordions/oilAndFat.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "accordions/nutsAndSeeds.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "scrollBackToTop.yaml"
    label: "Scroll back to top of filters"

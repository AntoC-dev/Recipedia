appId: "com.recipedia"
---
- runFlow:
    file: "filterViewHeader.yaml"
    label: "Assert filter view header elements"

- assertVisible:
    id: "SearchScreen::FiltersSelection::0::Chip"
    label: "Chocolate filter chip is displayed"

- assertVisible:
    text: "Chocolate"
    label: "Chocolate filter chip text is displayed"

# Initialize accordion index counter
- evalScript: ${output.accordionIndex = 0}

- runFlow:
    file: "accordions/inSeason.yaml"
    env:
      STATE: "all"

- runFlow:
    file: "accordions/preparationTime.yaml"
    env:
      STATE: "all"

- runFlow:
    file: "accordions/tags.yaml"
    env:
      STATE: "filtered"
      VISIBLE_ITEMS: "Chocolate,Dessert"

- runFlow:
    file: "accordions/grainOrCereal.yaml"
    env:
      STATE: "filtered"
      VISIBLE_ITEMS: "Flour"

- runFlow:
    file: "accordions/legumes.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "accordions/vegetable.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "accordions/plantProtein.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "accordions/condiment.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "accordions/sauce.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "accordions/meat.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "accordions/poultry.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "accordions/fish.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "accordions/dairy.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "accordions/cheese.yaml"
    env:
      STATE: "hidden"

- scrollUntilVisible:
    element:
      text: "Oil and Fat"
    direction: DOWN
    centerElement: true
    label: "Scroll to Sugar category"

- runFlow:
    file: "accordions/sugar.yaml"
    env:
      STATE: "filtered"
      VISIBLE_ITEMS: "Sugar"

- runFlow:
    file: "accordions/spice.yaml"
    env:
      STATE: "filtered"
      VISIBLE_ITEMS: "Cocoa Powder"

- runFlow:
    file: "accordions/fruit.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "accordions/oilAndFat.yaml"
    env:
      STATE: "filtered"
      VISIBLE_ITEMS: "Butter"

- runFlow:
    file: "accordions/nutsAndSeeds.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "scrollBackToTop.yaml"
    label: "Scroll back to top of filters"

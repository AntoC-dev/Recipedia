appId: "com.recipedia"
---
- runFlow:
    file: "filterViewHeader.yaml"
    label: "Assert filter view header elements"

- assertVisible:
    id: "SearchScreen::FiltersSelection::0::Chip"
    label: "15-20 min filter chip is displayed"

- assertVisible:
    text: "15-20 min"
    label: "15-20 min filter chip text is displayed"

# Initialize accordion index counter
- evalScript: ${output.accordionIndex = 0}

- runFlow:
    file: "accordions/inSeason.yaml"
    env:
      STATE: "all"

- runFlow:
    file: "accordions/preparationTime.yaml"
    env:
      STATE: "all"

- runFlow:
    file: "accordions/tags.yaml"
    env:
      STATE: "filtered"
      VISIBLE_ITEMS: "Healthy,Italian,Lunch,Mexican,Quick Meal,Salad"

- runFlow:
    file: "accordions/grainOrCereal.yaml"
    env:
      STATE: "filtered"
      VISIBLE_ITEMS: "Taco Shells,Croutons,Pizza Dough,Pasta"

- runFlow:
    file: "accordions/legumes.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "accordions/vegetable.yaml"
    env:
      STATE: "filtered"
      VISIBLE_ITEMS: "Lettuce,Romaine Lettuce"

- runFlow:
    file: "accordions/plantProtein.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "accordions/condiment.yaml"
    env:
      STATE: "hidden"

- waitForAnimationToEnd

- scrollUntilVisible:
    element:
      text: "Sauce"
    direction: DOWN
    centerElement: true
    label: "Scroll to Sauce category"

- waitForAnimationToEnd

- runFlow:
    file: "accordions/sauce.yaml"
    env:
      STATE: "filtered"
      VISIBLE_ITEMS: "Tomato Sauce,Caesar Dressing"

- runFlow:
    file: "accordions/meat.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "accordions/poultry.yaml"
    env:
      STATE: "filtered"
      VISIBLE_ITEMS: "Chicken Breast"

- runFlow:
    file: "accordions/fish.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "accordions/dairy.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "accordions/cheese.yaml"
    env:
      STATE: "filtered"
      VISIBLE_ITEMS: "Parmesan,Cheddar,Mozzarella"

- runFlow:
    file: "accordions/sugar.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "accordions/spice.yaml"
    env:
      STATE: "filtered"
      VISIBLE_ITEMS: "Basil Leaves"

- runFlow:
    file: "accordions/fruit.yaml"
    env:
      STATE: "hidden"

- runFlow:
    file: "accordions/oilAndFat.yaml"
    env:
      STATE: "filtered"
      VISIBLE_ITEMS: "Olive Oil"

- runFlow:
    file: "accordions/nutsAndSeeds.yaml"
    env:
      STATE: "filtered"
      VISIBLE_ITEMS: "Pine Nuts"

- runFlow:
    file: "scrollBackToTop.yaml"
    label: "Scroll back to top of filters"
